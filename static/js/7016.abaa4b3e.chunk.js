"use strict";(self.webpackChunkpublish=self.webpackChunkpublish||[]).push([[7016],{26015:(e,t,n)=>{n.d(t,{g:()=>f});var i=n(30574),a=n(76844),s=n(268),r=n(60205),o=n(84657),u=n(24657),c=n(34739),l=n(595),d=n(65618),p=n(17321),m=n(79323),h=n(42661),g=n(7258);const y={paymentAsset:null,amount:null,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]},w=(0,i.BX)(y),f={state:w,subscribe:e=>(0,i.B1)(w,(()=>e(w))),subscribeKey:(e,t)=>(0,a.u$)(w,e,t),resetState(){Object.assign(w,{...y})},async getAssetsForNetwork(e){const t=(0,c.nj)(e),n=await f.getAssetsImageAndPrice(t),i=t.map((e=>{var t,i;const a="native"===e.asset?(0,r.K1)():"".concat(e.network,":").concat(e.asset),s=n.find((e=>{var t;return(null===(t=e.fungibles)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.address)||void 0===t?void 0:t.toLowerCase())===a.toLowerCase()}));return{...e,price:(null===s||void 0===s||null===(t=s.fungibles)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.price)||1,metadata:{...e.metadata,iconUrl:null===s||void 0===s||null===(i=s.fungibles)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.iconUrl}}}));return w.assets=i,i},async getAssetsImageAndPrice(e){const t=e.map((e=>"native"===e.asset?(0,r.K1)():"".concat(e.network,":").concat(e.asset)));return await Promise.all(t.map((e=>d.T.fetchTokenPrice({addresses:[e]}))))},getTokenAmount(){var e,t;if(null===w||void 0===w||null===(e=w.paymentAsset)||void 0===e||!e.price)throw new Error("Cannot get token price");const n=s.S.bigNumber(null!==(t=w.amount)&&void 0!==t?t:0).round(8),i=s.S.bigNumber(w.paymentAsset.price).round(8);return n.div(i).round(8).toNumber()},setAmount(e){var t;w.amount=e,null!==(t=w.paymentAsset)&&void 0!==t&&t.price&&(w.tokenAmount=f.getTokenAmount())},setPaymentAsset(e){w.paymentAsset=e},isPayWithExchangeEnabled(){var e,t,n;return(null===(e=h.H.state.remoteFeatures)||void 0===e?void 0:e.payWithExchange)||(null===(t=h.H.state.remoteFeatures)||void 0===t?void 0:t.payments)||(null===(n=h.H.state.features)||void 0===n?void 0:n.pay)},isPayWithExchangeSupported:()=>f.isPayWithExchangeEnabled()&&p.W.state.activeCaipNetwork&&o.oU.PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES.includes(p.W.state.activeCaipNetwork.chainNamespace),async fetchExchanges(){try{var e,t;const n=f.isPayWithExchangeSupported();if(!w.paymentAsset||!n)return w.exchanges=[],void(w.isLoading=!1);w.isLoading=!0;const i=await(0,c.ro)({page:0,asset:(0,c.lZ)(w.paymentAsset.network,w.paymentAsset.asset),amount:null!==(e=null===(t=w.amount)||void 0===t?void 0:t.toString())&&void 0!==e?e:"0"});w.exchanges=i.exchanges.slice(0,2)}catch(n){throw g.P.showError("Unable to get exchanges"),new Error("Unable to get exchanges")}finally{w.isLoading=!1}},async getPayUrl(e,t){try{const n=Number(t.amount),i=await(0,c.cz)({exchangeId:e,asset:(0,c.lZ)(t.network,t.asset),amount:n.toString(),recipient:"".concat(t.network,":").concat(t.recipient)});return m.E.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{exchange:{id:e},configuration:{network:t.network,asset:t.asset,recipient:t.recipient,amount:n},currentPayment:{type:"exchange",exchangeId:e},source:"fund-from-exchange",headless:!1}}),i}catch(n){if(n instanceof Error&&n.message.includes("is not supported"))throw new Error("Asset not supported");throw new Error(n.message)}},async handlePayWithExchange(e){try{if(!l.U.state.address)throw new Error("No account connected");if(!w.paymentAsset)throw new Error("No payment asset selected");const n=u.w.returnOpenHref("","popupWindow","scrollbar=yes,width=480,height=720");if(!n)throw new Error("Could not create popup window");w.isPaymentInProgress=!0,w.paymentId=crypto.randomUUID(),w.currentPayment={type:"exchange",exchangeId:e};const{network:i,asset:a}=w.paymentAsset,s={network:i,asset:a,amount:w.tokenAmount,recipient:l.U.state.address},r=await f.getPayUrl(e,s);if(!r){try{n.close()}catch(t){console.error("Unable to close popup window",t)}throw new Error("Unable to initiate payment")}w.currentPayment.sessionId=r.sessionId,w.currentPayment.status="IN_PROGRESS",w.currentPayment.exchangeId=e,n.location.href=r.url}catch(n){w.error="Unable to initiate payment",g.P.showError(w.error)}},async waitUntilComplete(e){let{exchangeId:t,sessionId:n,paymentId:i,retries:a=20}=e;const s=await f.getBuyStatus(t,n,i);if("SUCCESS"===s.status||"FAILED"===s.status)return s;if(0===a)throw new Error("Unable to get deposit status");return await new Promise((e=>{setTimeout(e,5e3)})),f.waitUntilComplete({exchangeId:t,sessionId:n,paymentId:i,retries:a-1})},async getBuyStatus(e,t,n){try{if(!w.currentPayment)throw new Error("No current payment");const d=await(0,c.V1)({sessionId:t,exchangeId:e});var i,a,s,r,o;if(w.currentPayment.status=d.status,"SUCCESS"===d.status||"FAILED"===d.status)w.currentPayment.result=d.txHash,w.isPaymentInProgress=!1,m.E.sendEvent({type:"track",event:"SUCCESS"===d.status?"PAY_SUCCESS":"PAY_ERROR",properties:{message:"FAILED"===d.status?u.w.parseError(w.error):void 0,source:"fund-from-exchange",paymentId:n,configuration:{network:(null===(i=w.paymentAsset)||void 0===i?void 0:i.network)||"",asset:(null===(a=w.paymentAsset)||void 0===a?void 0:a.asset)||"",recipient:l.U.state.address||"",amount:null!==(s=w.amount)&&void 0!==s?s:0},currentPayment:{type:"exchange",exchangeId:null===(r=w.currentPayment)||void 0===r?void 0:r.exchangeId,sessionId:null===(o=w.currentPayment)||void 0===o?void 0:o.sessionId,result:d.txHash}}});return d}catch(d){return{status:"UNKNOWN",txHash:""}}},reset(){w.currentPayment=void 0,w.isPaymentInProgress=!1,w.paymentId="",w.paymentAsset=null,w.amount=0,w.tokenAmount=0,w.priceLoading=!1,w.error=null,w.exchanges=[],w.isLoading=!1}}},47016:(e,t,n)=>{n.r(t),n.d(t,{W3mDepositFromExchangeSelectAssetView:()=>z,W3mDepositFromExchangeView:()=>N});var i,a=n(57528),s=n(37022),r=n(56370),o=n(17321),u=n(26015),c=n(61139),l=n(7258),d=n(595),p=n(23743),m=n(89268),h=(n(92016),n(84107),n(42338),n(21311),n(45770),n(63625),n(84875),n(56440)),g=(n(54109),n(43901),function(e,t,n,i){var a,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(r=(s<3?a(r):s>3?a(t,n,r):a(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r});let y=class extends s.WF{constructor(){super(...arguments),this.maxDecimals=void 0,this.maxIntegers=void 0}render(){return(0,s.qy)(i||(i=(0,a.A)(['\n      <wui-flex alignItems="center" gap="1">\n        <wui-input-amount\n          widthVariant="fit"\n          .maxDecimals=',"\n          .maxIntegers=","\n          .value=",'\n        ></wui-input-amount>\n        <wui-text variant="md-regular" color="secondary">USD</wui-text>\n      </wui-flex>\n    '])),(0,h.J)(this.maxDecimals),(0,h.J)(this.maxIntegers),this.amount?String(this.amount):"")}};var w;g([(0,r.MZ)({type:Number})],y.prototype,"amount",void 0),g([(0,r.MZ)({type:Number})],y.prototype,"maxDecimals",void 0),g([(0,r.MZ)({type:Number})],y.prototype,"maxIntegers",void 0),y=g([(0,m.EM)("w3m-fund-input")],y);const f=(0,m.AH)(w||(w=(0,a.A)(["\n  .amount-input-container {\n    border-radius: ",";\n    border-top-right-radius: 0;\n    border-top-left-radius: 0;\n    border-bottom: 1px solid ",";\n    background-color: ",";\n  }\n\n  .container {\n    background-color: ",";\n    border-radius: 30px;\n  }\n"])),(e=>{let{borderRadius:t}=e;return t[5]}),(e=>{let{tokens:t}=e;return t.core.glass010}),(e=>{let{tokens:t}=e;return t.theme.backgroundPrimary}),(e=>{let{tokens:t}=e;return t.theme.foregroundSecondary}));var x,v,b,k,A,P,I,E,C,S=function(e,t,n,i){var a,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(r=(s<3?a(r):s>3?a(t,n,r):a(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};const D=[10,50,100];let N=class extends s.WF{constructor(){super(),this.unsubscribe=[],this.network=o.W.state.activeCaipNetwork,this.exchanges=u.g.state.exchanges,this.isLoading=u.g.state.isLoading,this.amount=u.g.state.amount,this.tokenAmount=u.g.state.tokenAmount,this.priceLoading=u.g.state.priceLoading,this.isPaymentInProgress=u.g.state.isPaymentInProgress,this.currentPayment=u.g.state.currentPayment,this.paymentId=u.g.state.paymentId,this.paymentAsset=u.g.state.paymentAsset,this.unsubscribe.push(o.W.subscribeKey("activeCaipNetwork",(e=>{this.network=e,this.setDefaultPaymentAsset()})),u.g.subscribe((e=>{var t,n;this.exchanges=e.exchanges,this.isLoading=e.isLoading,this.amount=e.amount,this.tokenAmount=e.tokenAmount,this.priceLoading=e.priceLoading,this.paymentId=e.paymentId,this.isPaymentInProgress=e.isPaymentInProgress,this.currentPayment=e.currentPayment,this.paymentAsset=e.paymentAsset;e.isPaymentInProgress&&(null===(t=e.currentPayment)||void 0===t?void 0:t.exchangeId)&&(null===(n=e.currentPayment)||void 0===n?void 0:n.sessionId)&&e.paymentId&&this.handlePaymentInProgress()})))}disconnectedCallback(){this.unsubscribe.forEach((e=>e())),u.g.reset()}async firstUpdated(){await this.getPaymentAssets(),this.paymentAsset||await this.setDefaultPaymentAsset(),u.g.setAmount(D[0]),await u.g.fetchExchanges()}render(){return(0,s.qy)(x||(x=(0,a.A)(['\n      <wui-flex flexDirection="column" class="container">\n        '," ","\n      </wui-flex>\n    "])),this.amountInputTemplate(),this.exchangesTemplate())}exchangesLoadingTemplate(){return Array.from({length:2}).map((()=>(0,s.qy)(v||(v=(0,a.A)(['<wui-shimmer width="100%" height="65px" borderRadius="xxs"></wui-shimmer>'])))))}_exchangesTemplate(){return this.exchanges.length>0?this.exchanges.map((e=>(0,s.qy)(b||(b=(0,a.A)(["<wui-list-item\n              @click=",'\n              chevron\n              variant="image"\n              imageSrc=',"\n              ?loading=",'\n            >\n              <wui-text variant="md-regular" color="secondary">\n                Deposit from ',"\n              </wui-text>\n            </wui-list-item>"])),(()=>this.onExchangeClick(e)),e.imageUrl,this.isLoading,e.name))):(0,s.qy)(k||(k=(0,a.A)(['<wui-flex flexDirection="column" alignItems="center" gap="4" padding="4">\n          <wui-text variant="lg-medium" align="center" color="primary">\n            No exchanges support this asset on this network\n          </wui-text>\n        </wui-flex>'])))}exchangesTemplate(){return(0,s.qy)(A||(A=(0,a.A)(['<wui-flex\n      flexDirection="column"\n      gap="2"\n      .padding=','\n      class="exchanges-container"\n    >\n      ',"\n    </wui-flex>"])),["3","3","3","3"],this.isLoading?this.exchangesLoadingTemplate():this._exchangesTemplate())}amountInputTemplate(){var e,t;return(0,s.qy)(P||(P=(0,a.A)(['\n      <wui-flex\n        flexDirection="column"\n        .padding=','\n        class="amount-input-container"\n      >\n        <wui-flex\n          justifyContent="space-between"\n          alignItems="center"\n          .margin=','\n        >\n          <wui-text variant="md-medium" color="secondary">Asset</wui-text>\n          <wui-token-button\n            data-testid="deposit-from-exchange-asset-button"\n            flexDirection="row-reverse"\n            text=',"\n            imageSrc=","\n            @click=",'\n          >\n          </wui-token-button>\n        </wui-flex>\n        <wui-flex\n          flexDirection="column"\n          alignItems="center"\n          justifyContent="center"\n          .margin=',"\n        >\n          <w3m-fund-input\n            @inputChange=","\n            .amount=","\n            .maxDecimals=","\n            .maxIntegers=","\n          >\n          </w3m-fund-input>\n          ",'\n        </wui-flex>\n        <wui-flex justifyContent="space-between" gap="2">\n          ',"\n        </wui-flex>\n      </wui-flex>\n    "])),["0","3","3","3"],["0","0","6","0"],(null===(e=this.paymentAsset)||void 0===e?void 0:e.metadata.symbol)||"",(null===(t=this.paymentAsset)||void 0===t?void 0:t.metadata.iconUrl)||"",(()=>c.I.push("PayWithExchangeSelectAsset")),["0","0","4","0"],this.onAmountChange.bind(this),this.amount,6,10,this.tokenAmountTemplate(),D.map((e=>(0,s.qy)(I||(I=(0,a.A)(["<wui-button\n                @click=","\n                variant=",'\n                size="sm"\n                fullWidth\n                >$',"</wui-button\n              >"])),(()=>u.g.setAmount(e)),this.amount===e?"neutral-primary":"neutral-secondary",e))))}tokenAmountTemplate(){var e;return this.priceLoading?(0,s.qy)(E||(E=(0,a.A)(['<wui-shimmer\n        width="65px"\n        height="20px"\n        borderRadius="xxs"\n        variant="light"\n      ></wui-shimmer>']))):(0,s.qy)(C||(C=(0,a.A)(['\n      <wui-text variant="md-regular" color="secondary">\n        '," ","\n      </wui-text>\n    "])),this.tokenAmount.toFixed(4),null===(e=this.paymentAsset)||void 0===e?void 0:e.metadata.symbol)}async onExchangeClick(e){this.amount?await u.g.handlePayWithExchange(e.id):l.P.showError("Please enter an amount")}handlePaymentInProgress(){var e,t;const n=o.W.state.activeChain;this.isPaymentInProgress&&null!==(e=this.currentPayment)&&void 0!==e&&e.exchangeId&&null!==(t=this.currentPayment)&&void 0!==t&&t.sessionId&&this.paymentId&&(u.g.waitUntilComplete({exchangeId:this.currentPayment.exchangeId,sessionId:this.currentPayment.sessionId,paymentId:this.paymentId}).then((e=>{"SUCCESS"===e.status?(l.P.showSuccess("Deposit completed"),n&&(d.U.fetchTokenBalance(),p.x.updateBalance(n))):"FAILED"===e.status&&l.P.showError("Deposit failed")})),l.P.showLoading("Deposit in progress..."),c.I.replace("Account"))}onAmountChange(e){let{detail:t}=e;u.g.setAmount(t?Number(t):null)}async getPaymentAssets(){this.network&&await u.g.getAssetsForNetwork(this.network.caipNetworkId)}async setDefaultPaymentAsset(){if(this.network){const e=await u.g.getAssetsForNetwork(this.network.caipNetworkId);e[0]&&u.g.setPaymentAsset(e[0])}}};N.styles=f,S([(0,r.wk)()],N.prototype,"network",void 0),S([(0,r.wk)()],N.prototype,"exchanges",void 0),S([(0,r.wk)()],N.prototype,"isLoading",void 0),S([(0,r.wk)()],N.prototype,"amount",void 0),S([(0,r.wk)()],N.prototype,"tokenAmount",void 0),S([(0,r.wk)()],N.prototype,"priceLoading",void 0),S([(0,r.wk)()],N.prototype,"isPaymentInProgress",void 0),S([(0,r.wk)()],N.prototype,"currentPayment",void 0),S([(0,r.wk)()],N.prototype,"paymentId",void 0),S([(0,r.wk)()],N.prototype,"paymentAsset",void 0),N=S([(0,m.EM)("w3m-deposit-from-exchange-view")],N);var U,L=n(24657);n(10477),n(60677),n(76184),n(30737),n(40135);const R=(0,m.AH)(U||(U=(0,a.A)(["\n  .contentContainer {\n    height: 440px;\n    overflow: scroll;\n    scrollbar-width: none;\n  }\n\n  .contentContainer::-webkit-scrollbar {\n    display: none;\n  }\n\n  wui-icon-box {\n    width: 40px;\n    height: 40px;\n    border-radius: ",";\n  }\n"])),(e=>{let{borderRadius:t}=e;return t[3]}));var T,W,j,O,F,q=function(e,t,n,i){var a,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(r=(s<3?a(r):s>3?a(t,n,r):a(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let z=class extends s.WF{constructor(){super(),this.unsubscribe=[],this.assets=u.g.state.assets,this.search="",this.onDebouncedSearch=L.w.debounce((e=>{this.search=e})),this.unsubscribe.push(u.g.subscribe((e=>{this.assets=e.assets})))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){return(0,s.qy)(T||(T=(0,a.A)(['\n      <wui-flex flexDirection="column">\n        '," <wui-separator></wui-separator> ","\n      </wui-flex>\n    "])),this.templateSearchInput(),this.templateTokens())}templateSearchInput(){return(0,s.qy)(W||(W=(0,a.A)(['\n      <wui-flex gap="2" padding="3">\n        <wui-input-text\n          @inputChange=','\n          class="network-search-input"\n          size="sm"\n          placeholder="Search token"\n          icon="search"\n        ></wui-input-text>\n      </wui-flex>\n    '])),this.onInputChange.bind(this))}templateTokens(){const e=this.assets.filter((e=>e.metadata.name.toLowerCase().includes(this.search.toLowerCase()))),t=e.length>0;return(0,s.qy)(j||(j=(0,a.A)(['\n      <wui-flex\n        class="contentContainer"\n        flexDirection="column"\n        .padding=','\n      >\n        <wui-flex justifyContent="flex-start" .padding=','>\n          <wui-text variant="md-medium" color="secondary">Available tokens</wui-text>\n        </wui-flex>\n        <wui-flex flexDirection="column" gap="2">\n          ',"\n        </wui-flex>\n      </wui-flex>\n    "])),["0","3","0","3"],["4","3","3","3"],t?e.map((e=>(0,s.qy)(O||(O=(0,a.A)(["<wui-list-item\n                    .imageSrc=","\n                    ?clickable=","\n                    @click=",'\n                  >\n                    <wui-text variant="md-medium" color="primary">','</wui-text>\n                    <wui-text variant="md-regular" color="secondary"\n                      >',"</wui-text\n                    >\n                  </wui-list-item>"])),e.metadata.iconUrl,!0,this.handleTokenClick.bind(this,e),e.metadata.name,e.metadata.symbol))):(0,s.qy)(F||(F=(0,a.A)(["<wui-flex\n                .padding=",'\n                alignItems="center"\n                flexDirection="column"\n                gap="4"\n              >\n                <wui-icon-box icon="coinPlaceholder" color="default" size="lg"></wui-icon-box>\n                <wui-flex\n                  class="textContent"\n                  gap="2"\n                  flexDirection="column"\n                  justifyContent="center"\n                >\n                  <wui-text variant="lg-medium" align="center" color="primary">\n                    No tokens found\n                  </wui-text>\n                </wui-flex>\n                <wui-link @click=',">Buy</wui-link>\n              </wui-flex>"])),["20","0","0","0"],this.onBuyClick.bind(this)))}onBuyClick(){c.I.push("OnRampProviders")}onInputChange(e){this.onDebouncedSearch(e.detail)}handleTokenClick(e){u.g.setPaymentAsset(e),c.I.goBack()}};z.styles=R,q([(0,r.wk)()],z.prototype,"assets",void 0),q([(0,r.wk)()],z.prototype,"search",void 0),z=q([(0,m.EM)("w3m-deposit-from-exchange-select-asset-view")],z)},21311:(e,t,n)=>{n(71056)},54109:(e,t,n)=>{var i,a=n(57528),s=n(37022),r=n(56370),o=n(94657),u=n(39446),c=n(69929),l=n(37845);const d=(0,n(89406).AH)(i||(i=(0,a.A)(["\n  :host {\n    position: relative;\n    display: inline-block;\n  }\n\n  input {\n    background: transparent;\n    height: auto;\n    box-sizing: border-box;\n    color: ",";\n    font-feature-settings: 'case' on;\n    font-size: ",";\n    caret-color: ",";\n    line-height: 130%;\n    letter-spacing: -1.28px;\n    -webkit-appearance: none;\n    -moz-appearance: textfield;\n    padding: 0px;\n    font-family: ",";\n  }\n\n  :host([data-width-variant='auto']) input {\n    width: 100%;\n  }\n\n  :host([data-width-variant='fit']) input {\n    width: 1ch;\n  }\n\n  .wui-input-amount-fit-mirror {\n    position: absolute;\n    visibility: hidden;\n    white-space: pre;\n    font-size: ",";\n    line-height: 130%;\n    letter-spacing: -1.28px;\n    font-family: ",";\n  }\n\n  .wui-input-amount-fit-width {\n    display: inline-block;\n    position: relative;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input::placeholder {\n    color: ",";\n  }\n"])),(e=>{let{tokens:t}=e;return t.theme.textPrimary}),(e=>{let{textSize:t}=e;return t.h4}),(e=>{let{tokens:t}=e;return t.core.textAccentPrimary}),(e=>{let{fontFamily:t}=e;return t.mono}),(e=>{let{textSize:t}=e;return t.h4}),(e=>{let{fontFamily:t}=e;return t.mono}),(e=>{let{tokens:t}=e;return t.theme.foregroundTertiary}));var p,m,h=function(e,t,n,i){var a,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(r=(s<3?a(r):s>3?a(t,n,r):a(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let g=class extends s.WF{constructor(){super(...arguments),this.inputElementRef=(0,o._)(),this.disabled=!1,this.value="",this.placeholder="0",this.widthVariant="auto",this.maxDecimals=void 0,this.maxIntegers=void 0}firstUpdated(){this.resizeInput()}updated(){this.resizeInput()}render(){var e;return this.dataset.widthVariant=this.widthVariant,null!==(e=this.inputElementRef)&&void 0!==e&&e.value&&this.value&&(this.inputElementRef.value.value=this.value),"auto"===this.widthVariant?this.inputTemplate():(0,s.qy)(p||(p=(0,a.A)(['\n      <div class="wui-input-amount-fit-width">\n        <span class="wui-input-amount-fit-mirror"></span>\n        ',"\n      </div>\n    "])),this.inputTemplate())}inputTemplate(){var e;return(0,s.qy)(m||(m=(0,a.A)(["<input\n      ",'\n      type="text"\n      inputmode="decimal"\n      pattern="[0-9,.]*"\n      placeholder=',"\n      ?disabled=","\n      autofocus\n      value=","\n      @input=","\n    />"])),(0,o.K)(this.inputElementRef),this.placeholder,this.disabled,null!==(e=this.value)&&void 0!==e?e:"",this.dispatchInputChangeEvent.bind(this))}dispatchInputChangeEvent(){this.inputElementRef.value&&(this.inputElementRef.value.value=c.Z.maskInput({value:this.inputElementRef.value.value,decimals:this.maxDecimals,integers:this.maxIntegers}),this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value.value,bubbles:!0,composed:!0})),this.resizeInput())}resizeInput(){if("fit"===this.widthVariant){const e=this.inputElementRef.value;if(e){const t=e.previousElementSibling;t&&(t.textContent=e.value||"0",e.style.width="".concat(t.offsetWidth,"px"))}}}};g.styles=[u.W5,u.fD,d],h([(0,r.MZ)({type:Boolean})],g.prototype,"disabled",void 0),h([(0,r.MZ)({type:String})],g.prototype,"value",void 0),h([(0,r.MZ)({type:String})],g.prototype,"placeholder",void 0),h([(0,r.MZ)({type:String})],g.prototype,"widthVariant",void 0),h([(0,r.MZ)({type:Number})],g.prototype,"maxDecimals",void 0),h([(0,r.MZ)({type:Number})],g.prototype,"maxIntegers",void 0),g=h([(0,l.E)("wui-input-amount")],g)}}]);
//# sourceMappingURL=7016.abaa4b3e.chunk.js.map